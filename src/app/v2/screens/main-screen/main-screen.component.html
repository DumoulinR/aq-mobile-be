<app-background>
  <ion-content [scrollY]="false">
    <div class="wrapper" [ngStyle]="{'height': contentHeight + 'px'}">
      <app-location-swipe (locationChange)="onLocationChange($event)" [locations]="locations">
      </app-location-swipe>
      <app-circle-chart #chart></app-circle-chart>
      <app-time-line-list (dayChange)="onDayChange($event)" [items]="belAqiForCurrentLocation">
      </app-time-line-list>
      <app-info-button></app-info-button>
    </div>
  </ion-content>

  <app-pull-tab [options]="drawerOptions">
    <div class="details--wrapper" [ngClass]="{'inactive': detailPoint, 'active': !detailPoint}">
      <ng-container *ngIf="!detailPoint">
        <div class="details">
          <h5>{{ 'v2.screens.main-screen.view-details' | translate }}</h5>

          <app-information-item *ngFor="let detailDataPoint of detailData" [detailedDataPoint]="detailDataPoint"
            [isButton]="true" (click)="detailPoint = detailDataPoint">
          </app-information-item>

          <ion-item detail>
            <ion-label [routerLink]="['/main/longterm-info']">
              {{ 'v2.screens.main-screen.long-term-calculation' | translate }}</ion-label>
          </ion-item>
        </div>

        <app-horizontal-cards-slider [data]="slidesData"></app-horizontal-cards-slider>
      </ng-container>
    </div>

    <div class="details--wrapper" [ngClass]="{'active': detailPoint, 'inactive': !detailPoint}">
      <div class="details" *ngIf="detailPoint">
        <h5>{{ 'v2.screens.main-screen.view-details' | translate }}</h5>

        <app-information-item-details [detailPoint]="detailPoint" (backClicked)="detailPoint = null">
        </app-information-item-details>

        <app-time-line-list class="details--timeline" (dayChange)="onDayChange($event)"
          [items]="belAqiForCurrentLocation">
        </app-time-line-list>

        <app-value-display [color]="'blue'" score="56" value="Âµg/m3"></app-value-display>

        <div class="details--info">
          <div>
            <ion-icon src="/assets/images/icons/question.svg"></ion-icon>
            <h4>{{ 'v2.screens.main-screen.what-is-no2' | translate }}</h4>
          </div>
          <p>{{ 'v2.screens.main-screen.about-no2' | translate }}</p>
        </div>

        <map-component [currentLocation]="currentLocation"></map-component>
      </div>
    </div>
  </app-pull-tab>
</app-background>